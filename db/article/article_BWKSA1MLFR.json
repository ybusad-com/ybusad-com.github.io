{"code":0,"msg":"ok","data":{"article":{"authorCode":"admin","authorName":"孙天骁","classify":"技术类","content":"<p style=\"text-indent: 2em;\">随记系统是骁之屋基础功能之一，网站的很多其他功能都需要依赖随记系统运行。上一版随记系统前端主要是在2015年暑假做的。这次对网站随记系统前端进行了升级。</p><p style=\"text-indent: 2em;\">主要的变动有：<br/></p><p style=\"text-indent: 2em;\">1.重新设计的随记首页，更加灵活自由，手机端和电脑端的风格保持一致。</p><p style=\"text-indent: 2em;\">2.重新设计的随记展示界面，更加简约强大。</p><p style=\"text-indent: 2em;\">3.取消关于随记来源和评论摘要等的展示，可以到随记详情页查看。</p><p style=\"text-indent: 2em;\">4.升级的位置查看策略，可以用节省流量的方式加载静态地图。适配天骁随记Android客户端V6.0。</p><p style=\"text-indent: 2em;\">5.升级的emoji策略，能够以更节省流量的方式来展示emoji。</p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\">在技术层面上，我将原有的jquery.essay.js替换为新的essaytalker.js负责随记条目前端的渲染。</p><p style=\"text-indent: 2em;\">essaytalker.js本身不含模板信息，只含选项和状态信息的管理，minify之后只有约6KB大小。</p><p style=\"text-indent: 2em;\">它依赖于jQuery.js（推荐2.x）和Vue.js（2.1.0~2.1.14）。</p><p style=\"text-indent: 2em;\">它仍然是一个功能齐全的天骁随记展示插件，选项参数多数兼容原有的jquery.essay.js。并且仍然支持站外以jsonp的形式调用。</p><p style=\"text-indent: 2em;\">完整版的essaytalker.js只需要引用jquery、vue和emoji.css。无需jqueryui和baidumap的支持。<br/></p><p style=\"text-indent: 2em;\">照jquery.essay.js，取消了几个不常用的功能：showNear、showCommentsTip、allowCheck。</p><p style=\"text-indent: 2em;\">改进了对emoji和map的支持，变动有关api。而且在任何设备上都能以节省流量的方式加载地图。</p><p style=\"text-indent: 2em;\">增加按字数排序。增加autoLoadDistance选项，以及一些文案的控制。</p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\">在性能方面，随记首页的网络加载情况如下：</p><p style=\"text-indent: 2em;\">电脑版（默认缓存地图）：</p><p style=\"text-indent: 2em;\"><img src=\"/article%2F14882074771.png\" title=\"article/1488116233.png\" alt=\"blob.png\"/></p><p style=\"text-indent: 2em;\">手机版（默认不缓存地图）：</p><p style=\"text-indent: 2em;\"><img src=\"/article%2F14882074783.png\" title=\"article/1488116183.png\" alt=\"blob.png\"/></p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\"><a href=\"/essay/talker/demo.html\" _src=\"/essay/talker/demo.html\">http://www.ybusad.com/essay/talker/demo.html</a></p><p style=\"text-indent: 2em;\">同时如果在使用过程中发现bug，欢迎提出。</p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\"><a href=\"/essay/\" _src=\"/essay/\">http://www.ybusad.com/essay/</a></p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\">2017.2.27更新：</p><p style=\"text-indent: 2em;\">发布essaytalker.js v1.01</p><p style=\"text-indent: 2em;\">修复可能导致加载重复的bug，增加模板缓存机制以节省流量和提高加载速度。</p>","createTime":"2017-02-26 21:12:50","customCoverKey":"","id":180,"isGood":true,"isTop":false,"publicState":0,"replyCount":0,"state":0,"tags":["网站开发","随记系统"],"title":"新版随记系统前端发布！","urlCode":"BWKSA1MLFR","viewCount":657,"viewGroup":-1,"authPassed":true},"author":{"exists":true,"name":"孙天骁","code":"admin","alias":"stx","description":"一个内心丰富的人","homepageUrl":"/u/stx","group":5,"groupName":"站长","isLocked":false,"gender":1,"avatarUrl":"/s/user/FufL-vSFO5eM1we1mxdfYHKH9tfK.jpg","realName":"孙天骁","refBaike":"","isManager":true,"isMe":true,"isLover":false,"introduction":"","joinTime":"2015-02-11 21:45:00"}}}