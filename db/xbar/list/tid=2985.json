{"barInfo":{"barName":"骁","description":"开放自由的类贴吧式留言板","isMainBar":true,"isPublic":true},"list":[{"author":"孙天骁","authorCode":"admin","content":"<p>1楼留空</p> ","floor":1,"pid":0,"postTime":"2019-09-14 21:25:30","replyCount":0,"signKey":"","source":"","sourceUrl":"","tid":2985},{"author":"孙天骁","authorCode":"admin","content":"<p>首先是需要开发的几大系统：</p><p>首页系统，搜索系统，广场系统；</p><p>随记系统；文章系统；百科系统；骁吧系统；</p><p>关于系统；用户系统；消息系统；后台管理系统；</p><br><p>移动端：H5，小程序，天骁随记客户端v7。</p> ","floor":2,"pid":8688,"postTime":"2019-09-14 21:30:04","replyCount":2,"signKey":"","source":"","tid":2985,"initComments":{"list":[{"author":"孙天骁","authorCode":"admin","content":"光辉号的PC端和移动端的前端需要完全分离。 ","createTime":"2019-09-14 21:46:35","id":3394,"replyId":0,"replyUserCode":"","authorInfo":{"exists":true,"name":"孙天骁","code":"admin","alias":"stx","description":"一个内心丰富的人","homepageUrl":"/u/stx","group":5,"groupName":"站长","isLocked":false,"gender":1,"avatarUrl":"/s/user/FufL-vSFO5eM1we1mxdfYHKH9tfK.jpg","realName":"孙天骁","refBaike":"","isManager":true,"isMe":true,"isLover":false,"introduction":"","joinTime":"2015-02-11 21:45:00"}},{"author":"孙天骁","authorCode":"admin","content":"还需要有其他只服务于我的系统的规划。 ","createTime":"2019-09-14 22:36:18","id":3398,"replyId":0,"replyUserCode":"","authorInfo":{"exists":true,"name":"孙天骁","code":"admin","alias":"stx","description":"一个内心丰富的人","homepageUrl":"/u/stx","group":5,"groupName":"站长","isLocked":false,"gender":1,"avatarUrl":"/s/user/FufL-vSFO5eM1we1mxdfYHKH9tfK.jpg","realName":"孙天骁","refBaike":"","isManager":true,"isMe":true,"isLover":false,"introduction":"","joinTime":"2015-02-11 21:45:00"}}],"pageInfo":{"total":2,"pageSize":10,"current":1},"total":2,"totalPages":1}},{"author":"孙天骁","authorCode":"admin","content":"<p>能不能实现渐进式上线呢？就是要处理好新老版本并存。</p><p>有两个很大的问题，就是Node层和原有PHP逻辑的冲突，以及数据库的问题。</p> ","floor":3,"pid":8689,"postTime":"2019-09-14 21:35:15","replyCount":0,"signKey":"","source":"","tid":2985},{"author":"孙天骁","authorCode":"admin","content":"<p>如果要实现并存。首先第一步就是把php部分（api.ybusad.com）置放进php容器，然后架设Nginx容器对外暴露80和443，提供https。然后开始架设Node中间层。</p> ","floor":4,"pid":8690,"postTime":"2019-09-14 21:38:44","replyCount":0,"signKey":"","source":"","tid":2985},{"author":"孙天骁","authorCode":"admin","content":"<p>Node中间层首先要接管权限验证逻辑，之后的后端要专门专注于业务逻辑。</p> ","floor":5,"pid":8691,"postTime":"2019-09-14 21:43:02","replyCount":3,"signKey":"","source":"","tid":2985,"initComments":{"list":[{"author":"孙天骁","authorCode":"admin","content":"这样的话，怎么和PHP的用户权限验证逻辑不起冲突呢？因为这一部分不可能一成不变呀。 ","createTime":"2019-09-14 21:49:51","id":3395,"replyId":0,"replyUserCode":"","authorInfo":{"exists":true,"name":"孙天骁","code":"admin","alias":"stx","description":"一个内心丰富的人","homepageUrl":"/u/stx","group":5,"groupName":"站长","isLocked":false,"gender":1,"avatarUrl":"/s/user/FufL-vSFO5eM1we1mxdfYHKH9tfK.jpg","realName":"孙天骁","refBaike":"","isManager":true,"isMe":true,"isLover":false,"introduction":"","joinTime":"2015-02-11 21:45:00"}},{"author":"孙天骁","authorCode":"admin","content":"不，后端走的是api这个域名，这个域名可以不走Node中间层。 ","createTime":"2019-09-14 21:58:17","id":3396,"replyId":0,"replyUserCode":"","authorInfo":{"exists":true,"name":"孙天骁","code":"admin","alias":"stx","description":"一个内心丰富的人","homepageUrl":"/u/stx","group":5,"groupName":"站长","isLocked":false,"gender":1,"avatarUrl":"/s/user/FufL-vSFO5eM1we1mxdfYHKH9tfK.jpg","realName":"孙天骁","refBaike":"","isManager":true,"isMe":true,"isLover":false,"introduction":"","joinTime":"2015-02-11 21:45:00"}},{"author":"孙天骁","authorCode":"admin","content":"这里说的后端指的是原有的PHP后端。 ","createTime":"2019-09-14 21:59:01","id":3397,"replyId":3396,"replyUserCode":"admin","authorInfo":{"exists":true,"name":"孙天骁","code":"admin","alias":"stx","description":"一个内心丰富的人","homepageUrl":"/u/stx","group":5,"groupName":"站长","isLocked":false,"gender":1,"avatarUrl":"/s/user/FufL-vSFO5eM1we1mxdfYHKH9tfK.jpg","realName":"孙天骁","refBaike":"","isManager":true,"isMe":true,"isLover":false,"introduction":"","joinTime":"2015-02-11 21:45:00"},"replyUserInfo":{"exists":true,"name":"孙天骁","code":"admin","alias":"stx","description":"一个内心丰富的人","homepageUrl":"/u/stx","group":5,"groupName":"站长","isLocked":false,"gender":1,"avatarUrl":"/s/user/FufL-vSFO5eM1we1mxdfYHKH9tfK.jpg","realName":"孙天骁","refBaike":"","isManager":true,"isMe":true,"isLover":false,"introduction":"","joinTime":"2015-02-11 21:45:00"}}],"pageInfo":{"total":3,"pageSize":10,"current":1},"total":3,"totalPages":1}},{"author":"孙天骁","authorCode":"admin","content":"<p>所以首先的工作是，要调整网站架设结构，接入Docker，加入Node中间层。</p><p>访问api域名的由Nginx转发到php容器处理。</p><p>在Node中间层 1.复刻现在的用户验证逻辑 2.配置好转发。可以简单地根据url pathname是否以/v2开头判断。/v2就提供新的前端，否则提供旧的前端。在原有前端路由的基础上也加一下这一层判断，如果是v2开头的地址，直接location跳转。</p> ","floor":6,"pid":8692,"postTime":"2019-09-14 22:09:27","replyCount":0,"signKey":"","source":"","tid":2985},{"author":"孙天骁","authorCode":"admin","content":"<p>前端开发可能还先不急，因为Vue3还没出呀。</p> ","floor":7,"pid":8693,"postTime":"2019-09-14 22:10:07","replyCount":0,"signKey":"","source":"","tid":2985},{"author":"孙天骁","authorCode":"admin","content":"<p>可是系统的开发总得有个顺序。</p><p>文章系统-随记系统-搜索系统-用户系统-骁吧系统……</p><p>然后同时开发新的后台管理系统。</p><br><p>争取明年2月之前能把新的文章系统上线？</p> ","floor":8,"pid":8694,"postTime":"2019-09-14 22:36:36","replyCount":0,"signKey":"","source":"","tid":2985}],"pageInfo":{"total":8,"pageSize":30,"current":1},"threadInfo":{"author":"孙天骁","authorCode":"admin","classifyName":"技术","goodClassifyName":"","id":2985,"isGood":false,"isPicture":false,"isRepost":false,"postTime":"2019-09-14 21:25:30","replyCount":12,"title":"光辉号骁之屋开发顺序评估","topState":0},"tid":2985,"total":8,"totalPages":1,"viewHost":false,"users":{"admin":{"exists":true,"name":"孙天骁","code":"admin","alias":"stx","description":"一个内心丰富的人","homepageUrl":"/u/stx","group":5,"groupName":"站长","isLocked":false,"gender":1,"avatarUrl":"/s/user/FufL-vSFO5eM1we1mxdfYHKH9tfK.jpg","realName":"孙天骁","refBaike":"","isManager":true,"isMe":true,"isLover":false,"introduction":"","joinTime":"2015-02-11 21:45:00"}},"needVerify":true}